# Options ML Trader - Environment Variables Template
# Copy this file to .env and fill in your actual values

# ==================== DATABASE ====================
# Local PostgreSQL (Development)
DATABASE_URL=postgresql://trader:your_password@localhost:5432/options_trading

# AWS RDS (Production) - Uncomment when deploying to cloud
# DATABASE_URL=postgresql://trader:your_password@your-db-host.rds.amazonaws.com:5432/options_trading

# SQLite (Alternative for local dev)
# DATABASE_URL=sqlite:///data/options_trading.db

# ==================== INTERACTIVE BROKERS ====================
# Paper Trading (Port 7497)
IBKR_USERNAME=your_paper_username
IBKR_PASSWORD=
IBKR_HOST=127.0.0.1
IBKR_PORT=7497
IBKR_CLIENT_ID=1

# Live Trading (Port 7496) - USE WITH EXTREME CAUTION
# IBKR_PORT=7496

# ==================== DATA SOURCES ====================
# yfinance (Free - No API key needed)
# Already included via pip install

# Alpha Vantage (Optional - Free tier: 5 calls/min, 500 calls/day)
ALPHA_VANTAGE_API_KEY=your_api_key_here

# Polygon.io (Optional - Paid: $99/mo for real-time options)
POLYGON_API_KEY=your_api_key_here

# ThetaData (Optional - Paid: $30-100/mo for historical data)
THETA_USERNAME=your_username
THETA_PASSWORD=your_password

# ==================== MLFLOW ====================
# Local tracking
MLFLOW_TRACKING_URI=sqlite:///data/mlflow.db
MLFLOW_ARTIFACT_LOCATION=./models/artifacts

# Remote tracking (AWS S3) - Uncomment for production
# MLFLOW_TRACKING_URI=https://your-mlflow-server.com
# MLFLOW_S3_BUCKET=your-mlflow-bucket
# AWS_ACCESS_KEY_ID=your_aws_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret

# ==================== MONITORING ====================
# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_PORT=3000

# ==================== TRADING PARAMETERS ====================
# Risk Management
MAX_POSITION_SIZE=0.05  # 5% of portfolio per position
MAX_PORTFOLIO_RISK=0.20  # 20% max drawdown before system pause
MAX_DAILY_LOSS=0.03  # 3% max daily loss
RISK_FREE_RATE=0.045  # 4.5% annual risk-free rate

# Trading Mode
TRADING_MODE=paper  # 'paper' or 'live'
AUTO_TRADE=false  # Set to 'true' for autonomous trading

# Position Management
PROFIT_TARGET=0.50  # 50% profit target for exits
STOP_LOSS=0.75  # Exit at 75% loss (credit spreads)
MAX_DAYS_IN_TRADE=30  # Max holding period

# ==================== STRATEGY PARAMETERS ====================
# IV Rank Strategy
IV_RANK_HIGH_THRESHOLD=0.8  # Sell premium when IV rank > 80%
IV_RANK_LOW_THRESHOLD=0.2   # Buy premium when IV rank < 20%

# Regime Detection
VIX_LOW_THRESHOLD=15
VIX_HIGH_THRESHOLD=25
VIX_RANK_LOW=0.3
VIX_RANK_HIGH=0.8

# ==================== LOGGING ====================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR
LOG_FILE=logs/trader.log
LOG_ROTATION=10 MB
LOG_RETENTION=30 days

# ==================== ALERTS ====================
# Email (Optional)
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
ALERT_EMAIL=your_alert_email@gmail.com

# Slack (Optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# ==================== PERFORMANCE ====================
# Data fetching
DATA_FETCH_TIMEOUT=30  # seconds
MAX_CONCURRENT_REQUESTS=5

# Model inference
MODEL_CACHE_SIZE=100  # Cache last N predictions

# ==================== DEVELOPMENT ====================
# Testing
PYTEST_WORKERS=4
TEST_DATABASE_URL=postgresql://trader:password@localhost:5432/options_trading_test

# Debug mode
DEBUG=false
